/*! angular-flash - v0.0.3 - 2014-01-25 */!function(a){"use strict";var b=function(a,b){return function(){return a.apply(b,arguments)}},c="template/flash-messages.html",d=a.module("ngFlash",["ng"]);d.provider("$flash",function(){var c=5e3;this.setDefaultDuration=function(a){c=a};var d="alert";this.setDefaultType=function(a){d=a};var e="$routeChangeSuccess";this.setRouteChangeSuccess=function(a){e=a},this.$get=["$rootScope","$timeout",function(f,g){function h(a,b){b=b||{},this.message=a,this.duration=b.duration||c,this.type=b.type||d,this.persist=b.persist,this.unique=!0}var i,j=function(b){var c;return a.forEach(i.messages,function(a){a.message===b&&(c=a)}),c};return h.prototype.add=function(){var a=j(this.message);return a&&a.remove(),i.messages.push(this.init()),this},h.prototype.remove=function(){this.cancelTimeout(),i.messages.splice(i.messages.indexOf(this),1)},h.prototype.startTimeout=function(){return this.cancelTimeout(),this.timeout=g(b(this.remove,this),this.duration),this.timeout},h.prototype.cancelTimeout=function(){this.timeout&&g.cancel(this.timeout)},h.prototype.init=function(){var a=b(this.remove,this);if(this.startTimeout(),this.persist){var c=this,d=function(a,b){return function(){return--a<1?b.apply(this,arguments):(c.startTimeout(),void 0)}};f.$on(e,d(this.persist+1,a))}else f.$on(e,a);return this},i=function(a,b){return new h(a,b).add()},i.messages=[],i.reset=function(){i.messages.length=0},i}]}),d.directive("flashMessages",function(){return{restrict:"EA",replace:!0,scope:{},templateUrl:c,controller:["$scope","$flash",function(a,b){a.messages=b.messages}]}}),d.run(["$templateCache",function(a){a.get(c)||a.put(c,'<div class="flash-messages"><div class="flash-message {{message.type}}" ng-repeat="message in messages" ng-bind="message.message"><a href="" class="close" ng-click="message.remove()"></a></div></div>')}])}(angular);